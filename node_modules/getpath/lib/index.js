'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

module.exports = function (obj, path) {
  if (!obj) return undefined;

  var splitPath = path.split(/[\[\]\.]/).reduce(function (last, bit) {
    return bit !== '' ? [].concat(_toConsumableArray(last), [bit]) : last;
  });

  var lastBit = obj;

  for (var i = 0; i < splitPath.length; i++) {
    var nextBit = splitPath[i];

    if (lastBit[nextBit] === undefined) {
      return undefined;
    }

    lastBit = lastBit[nextBit];
  }

  return lastBit;
};